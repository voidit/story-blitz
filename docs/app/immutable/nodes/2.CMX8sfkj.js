import{s as Y,n as J,o as Z}from"../chunks/B2QSKqcC.js";import{S as x,i as ee,d as $,c as D,b as v,o as te,e as E,f as _,l as M,g as z,p as K,q as se,j as y,s as C,H as Q,k as ae,m as ne,n as oe}from"../chunks/CGIUej4z.js";function R(l){let a,t;return{c(){a=y("h2"),t=oe(l[1])},l(s){a=_(s,"H2",{});var n=M(a);t=ne(n,l[1]),n.forEach($)},m(s,n){D(s,a,n),v(a,t)},p(s,n){n&2&&ae(t,s[1])},d(s){s&&$(a)}}}function G(l){let a,t;return{c(){a=y("small"),t=new Q(!1),this.h()},l(s){a=_(s,"SMALL",{class:!0});var n=M(a);t=K(n,!1),n.forEach($),this.h()},h(){t.a=null,E(a,"class","svelte-jakce0")},m(s,n){D(s,a,n),t.m(l[2],a)},p(s,n){n&4&&t.p(s[2])},d(s){s&&$(a)}}}function le(l){let a,t,s,n,h,m,u,d,p='<div class="cat svelte-jakce0"><div class="dog svelte-jakce0"><i class="fal fa-smile"></i> <div>Blitz!</div></div></div>',g,w,r=l[1]&&R(l),e=l[2]&&G(l);return{c(){a=y("section"),t=y("div"),r&&r.c(),s=C(),n=y("div"),h=new Q(!1),m=C(),e&&e.c(),u=C(),d=y("div"),d.innerHTML=p,this.h()},l(i){a=_(i,"SECTION",{class:!0});var c=M(a);t=_(c,"DIV",{class:!0});var o=M(t);r&&r.l(o),s=z(o),n=_(o,"DIV",{});var f=M(n);h=K(f,!1),f.forEach($),m=z(o),e&&e.l(o),u=z(o),d=_(o,"DIV",{class:!0,"data-svelte-h":!0}),se(d)!=="svelte-1cfdoow"&&(d.innerHTML=p),o.forEach($),c.forEach($),this.h()},h(){h.a=null,E(d,"class","father-div svelte-jakce0"),E(t,"class","main"),E(a,"class","svelte-jakce0")},m(i,c){D(i,a,c),v(a,t),r&&r.m(t,null),v(t,s),v(t,n),h.m(l[0],n),v(t,m),e&&e.m(t,null),v(t,u),v(t,d),g||(w=te(d,"click",l[3]),g=!0)},p(i,[c]){i[1]?r?r.p(i,c):(r=R(i),r.c(),r.m(t,s)):r&&(r.d(1),r=null),c&1&&h.p(i[0]),i[2]?e?e.p(i,c):(e=G(i),e.c(),e.m(t,u)):e&&(e.d(1),e=null)},i:J,o:J,d(i){i&&$(a),r&&r.d(),e&&e.d(),g=!1,w()}}}async function re(){try{const l=await fetch("./data/prompts.json");if(!l.ok)throw new Error("Network response was not ok");return await l.json()}catch(l){return console.error("Failed to fetch prompts:",l),null}}function ie(l,a,t){let s,n,h,m=null,u="",d=new Set,p=null,g=!1,w="Story Blitz",r="",e=o=>{if(!g&&o){let f=Math.floor(Math.random()*o.length);return o[f].description}return o?o[Math.floor(Math.random()*o.length)].name:"[...]"},i=o=>o[Math.floor(Math.random()*o.length)];Z(async()=>{t(4,m=await re()),m&&(t(7,s=n(m)),t(0,u=h()))});function c(){g=!g,t(0,u=h())}return l.$$.update=()=>{l.$$.dirty&240&&(h=()=>{d.size===s.length&&(d.clear(),t(7,s=n(m)),console.log("All prompts have been used. Starting over!"));do t(5,p=s[Math.floor(Math.random()*s.length)]);while(d.has(p.id));return d.add(p.id),p.body})},t(7,s=null),t(6,n=(o=null)=>{if(!o)return;let{protagonists:f,incidents:P,settings:H,goals:L,obstacles:N,challenges:b,environments:k,tones:j,transformations:I,problems:O,genres:V,adventures:q,valuables:A,resolutions:B,flaws:U,powers:W,creatures:X,introductions:F,plots:S=[]}=o;if(t(1,w=F[Math.floor(Math.random()*F.length)].name),S.length>0){let T=Math.floor(Math.random()*S.length)||null;t(2,r=T?`<b>${S[T].name}:</b> ${S[T].description}`:"")}return[{id:1,body:`${e(f)} ${e(P)} in ${i(H)} to ${e(L)}, facing ${e(N)} and ${e(b)} along the way.`},{id:2,body:`${e(f)}  ${e(P)}, experiences ${e(b)}  and ${e(q)}, and returns to ${e(k)} transformed.`},{id:3,body:`${e(f)} embarks on a journey to find ${e(A)} and ${e(L)}.`},{id:4,body:`${e(f)} travels to ${e(j)} ${i(H)}, experiences ${e(I)}, and returns to ${e(k)} with ${e(O)}.`},{id:5,body:`${e(f)} travels to ${e(k)}, experiences ${e(I)}, and returns to ${e(k)} with ${e(A)}.`},{id:6,body:`${e(j)} and ${e(V)} story that involves ${e(O)},  ${e(P)}, ${e(b)}  and ${e(q)}, leading to ${e(B)}.`},{id:7,body:`${e(V)} story that depicts ${e(j)} ${e(b)}  of ${e(f)} due to ${e(U)}, ${e(W)}, and ${e(X)}, leading to ${e(B)}.`},{id:8,body:`${e(f)} undergoes ${e(O)}, ${e(I)} from ${i(H)} to ${e(L)}, after a period of ${e(b)}  and ${e(N)}.`}]}),[u,w,r,c,m,p,n,s]}class ce extends x{constructor(a){super(),ee(this,a,ie,le,Y,{})}}export{ce as component};
