import{s as V,n as T,o as q}from"../chunks/B2QSKqcC.js";import{S as z,i as B,d as $,a as F,b as g,l as J,c as v,e as y,f as _,g as R,h as U,j as b,H as G,s as K}from"../chunks/BSeVQmyM.js";function Q(s){let c,t,o,i,h,l,r,u,p;return{c(){c=b("section"),t=b("div"),o=b("div"),i=new G(!1),h=K(),l=b("label"),r=b("input"),this.h()},l(e){c=y(e,"SECTION",{});var d=_(c);t=y(d,"DIV",{class:!0});var m=_(t);o=y(m,"DIV",{});var n=_(o);i=R(n,!1),n.forEach($),h=U(m),l=y(m,"LABEL",{});var a=_(l);r=y(a,"INPUT",{class:!0,name:!0,type:!0}),a.forEach($),m.forEach($),d.forEach($),this.h()},h(){i.a=null,v(r,"class","bubble"),v(r,"name","dummy"),v(r,"type","checkbox"),r.value="on",v(t,"class","main")},m(e,d){F(e,c,d),g(c,t),g(t,o),i.m(s[0],o),g(t,h),g(t,l),g(l,r),u||(p=J(r,"click",s[1]),u=!0)},p(e,[d]){d&1&&i.p(e[0])},i:T,o:T,d(e){e&&$(c),u=!1,p()}}}async function W(){try{const s=await fetch("./data/prompts.json");if(!s.ok)throw new Error("Network response was not ok");return await s.json()}catch(s){return console.error("Failed to fetch prompts:",s),null}}function X(s,c,t){let o,i,h,l=null,r="",u=new Set,p=null,e=n=>{if(n){let a=Math.floor(Math.random()*n.length);return n[a].description}return n?n[Math.floor(Math.random()*n.length)].name:"[...]"},d=n=>n[Math.floor(Math.random()*n.length)];q(async()=>{t(2,l=await W()),l&&(t(5,o=i(l)),t(0,r=h()))});function m(){t(0,r=h())}return s.$$.update=()=>{s.$$.dirty&60&&(h=()=>{u.size===o.length&&(u.clear(),t(5,o=i(l)),console.log("All prompts have been used. Starting over!"));do t(3,p=o[Math.floor(Math.random()*o.length)]);while(u.has(p.id));return u.add(p.id),p.body})},t(5,o=null),t(4,i=(n=null)=>{if(!n)return;let{protagonists:a,incidents:M,settings:E,goals:P,obstacles:I,challenges:f,environments:w,tones:k,transformations:S,problems:x,genres:N,adventures:O,valuables:H,resolutions:L,flaws:A,powers:C,creatures:D}=n;return[{id:1,body:`${e(a)} ${e(M)} in ${d(E)} to ${e(P)}, facing ${e(I)} and ${e(f)} along the way.`},{id:2,body:`${e(a)}  ${e(M)}, experiences ${e(f)}  and ${e(O)}, and returns to ${e(w)} transformed.`},{id:3,body:`${e(a)} embarks on a journey to find ${e(H)} and ${e(P)}.`},{id:4,body:`${e(a)} travels to ${e(k)} ${d(E)}, experiences ${e(S)}, and returns to ${e(w)} with ${e(x)}.`},{id:5,body:`${e(a)} travels to ${e(w)}, experiences ${e(S)}, and returns to ${e(w)} with ${e(H)}.`},{id:6,body:`${e(k)} and ${e(N)} story that involves ${e(x)},  ${e(M)}, ${e(f)}  and ${e(O)}, leading to ${e(L)}.`},{id:7,body:`${e(N)} story that depicts ${e(k)} ${e(f)}  of ${e(a)} due to ${e(A)}, ${e(C)}, and ${e(D)}, leading to ${e(L)}.`},{id:8,body:`${e(a)} undergoes ${e(x)}, ${e(S)} from ${d(E)} to ${e(P)}, after a period of ${e(f)}  and ${e(I)}.`}]}),[r,m,l,p,i,o]}class j extends z{constructor(c){super(),B(this,c,X,Q,V,{})}}export{j as component};
