import{s as Y,n as J,o as Z}from"../chunks/B2QSKqcC.js";import{S as x,i as ee,d as $,c as D,b as v,o as te,e as S,f as _,l as b,g as T,p as K,q as se,j as w,s as z,H as Q,k as ae,m as oe,n as ne}from"../chunks/CGIUej4z.js";function R(l){let a,t;return{c(){a=w("h2"),t=ne(l[1])},l(s){a=_(s,"H2",{});var o=b(a);t=oe(o,l[1]),o.forEach($)},m(s,o){D(s,a,o),v(a,t)},p(s,o){o&2&&ae(t,s[1])},d(s){s&&$(a)}}}function G(l){let a,t;return{c(){a=w("small"),t=new Q(!1),this.h()},l(s){a=_(s,"SMALL",{class:!0});var o=b(a);t=K(o,!1),o.forEach($),this.h()},h(){t.a=null,S(a,"class","svelte-jakce0")},m(s,o){D(s,a,o),t.m(l[2],a)},p(s,o){o&4&&t.p(s[2])},d(s){s&&$(a)}}}function le(l){let a,t,s,o,h,m,u,d,p='<div class="cat svelte-jakce0"><div class="dog svelte-jakce0"><i class="fal fa-smile"></i> <div>Blitz!</div></div></div>',g,y,r=l[1]&&R(l),e=l[2]&&G(l);return{c(){a=w("section"),t=w("div"),r&&r.c(),s=z(),o=w("div"),h=new Q(!1),m=z(),e&&e.c(),u=z(),d=w("div"),d.innerHTML=p,this.h()},l(i){a=_(i,"SECTION",{class:!0});var c=b(a);t=_(c,"DIV",{class:!0});var n=b(t);r&&r.l(n),s=T(n),o=_(n,"DIV",{});var f=b(o);h=K(f,!1),f.forEach($),m=T(n),e&&e.l(n),u=T(n),d=_(n,"DIV",{class:!0,"data-svelte-h":!0}),se(d)!=="svelte-1cfdoow"&&(d.innerHTML=p),n.forEach($),c.forEach($),this.h()},h(){h.a=null,S(d,"class","father-div svelte-jakce0"),S(t,"class","main"),S(a,"class","svelte-jakce0")},m(i,c){D(i,a,c),v(a,t),r&&r.m(t,null),v(t,s),v(t,o),h.m(l[0],o),v(t,m),e&&e.m(t,null),v(t,u),v(t,d),g||(y=te(d,"click",l[3]),g=!0)},p(i,[c]){i[1]?r?r.p(i,c):(r=R(i),r.c(),r.m(t,s)):r&&(r.d(1),r=null),c&1&&h.p(i[0]),i[2]?e?e.p(i,c):(e=G(i),e.c(),e.m(t,u)):e&&(e.d(1),e=null)},i:J,o:J,d(i){i&&$(a),r&&r.d(),e&&e.d(),g=!1,y()}}}async function re(){try{const l=await fetch("./data/prompts.json");if(!l.ok)throw new Error("Network response was not ok");return await l.json()}catch(l){return console.error("Failed to fetch prompts:",l),null}}function ie(l,a,t){let s,o,h,m=null,u="",d=new Set,p=null,g=!1,y="Story Blitz",r="",e=n=>{if(!g&&n){let f=Math.floor(Math.random()*n.length);return n[f].description}return n?n[Math.floor(Math.random()*n.length)].name:"[...]"},i=n=>n[Math.floor(Math.random()*n.length)];Z(async()=>{t(4,m=await re()),m&&(t(7,s=o(m)),t(0,u=h()))});function c(){g=!g,t(0,u=h())}return l.$$.update=()=>{l.$$.dirty&240&&(h=()=>{d.size===s.length&&(d.clear(),t(7,s=o(m)),console.log("All prompts have been used. Starting over!"));do t(5,p=s[Math.floor(Math.random()*s.length)]);while(d.has(p.id));return d.add(p.id),p.body})},t(7,s=null),t(6,o=(n=null)=>{if(!n)return;let{protagonists:f,incidents:E,settings:H,goals:L,obstacles:N,challenges:M,environments:k,tones:O,transformations:j,problems:C,genres:V,adventures:q,valuables:A,resolutions:B,flaws:U,powers:W,creatures:X,introductions:F,plots:P=[]}=n;if(t(1,y=F[Math.floor(Math.random()*F.length)].name),P.length>0){let I=Math.floor(Math.random()*P.length)||null;t(2,r=I?`<b>${P[I].name}:</b> ${P[I].description}`:"")}return[{id:1,body:`Central figure ${e(f)} ${e(E)} in ${i(H)} to ${e(L)}, facing ${e(N)} and ${e(M)} along the way.`},{id:2,body:`Main character ${e(f)}  ${e(E)}, experiences ${e(M)}  and ${e(q)}, and returns to ${e(k)} transformed.`},{id:3,body:`Lead character ${e(f)} embarks on a journey to find ${e(A)} and ${e(L)}.`},{id:4,body:`Hero(ine) ${e(f)} travels to ${e(O)} ${i(H)}, experiences ${e(j)}, and returns to ${e(k)} with ${e(C)}.`},{id:5,body:`One of those who ${e(f)} travels to ${e(k)}, experiences ${e(j)}, and returns to ${e(k)} with ${e(A)}.`},{id:6,body:`${e(O)} and ${e(V)} story that involves ${e(C)},  ${e(E)}, ${e(M)}  and ${e(q)}, leading to ${e(B)}.`},{id:7,body:`${e(V)} story that depicts ${e(O)} ${e(M)}  of ${e(f)} due to ${e(U)}, ${e(W)}, and ${e(X)}, leading to ${e(B)}.`},{id:8,body:`Protagonist ${e(f)} undergoes ${e(C)}, ${e(j)} from ${i(H)} to ${e(L)}, after a period of ${e(M)}  and ${e(N)}.`}]}),[u,y,r,c,m,p,o,s]}class ce extends x{constructor(a){super(),ee(this,a,ie,le,Y,{})}}export{ce as component};
