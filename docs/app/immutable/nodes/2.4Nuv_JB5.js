import{s as G,n as V,o as K}from"../chunks/B2QSKqcC.js";import{S as Q,i as U,d as v,c as A,b as g,o as W,e as O,f as _,l as M,g as q,p as X,q as Y,j as w,s as z,H as Z,k as j,m as ee,n as te}from"../chunks/CGIUej4z.js";function x(a){let n,t;return{c(){n=w("h2"),t=te(a[1])},l(r){n=_(r,"H2",{});var s=M(n);t=ee(s,a[1]),s.forEach(v)},m(r,s){A(r,n,s),g(n,t)},p(r,s){s&2&&j(t,r[1])},d(r){r&&v(n)}}}function se(a){let n,t,r,s,f,p,i,$='<div class="cat svelte-y6fg43"><div class="dog svelte-y6fg43"><i class="fal fa-smile"></i> <div>Blitz!</div></div></div>',h,u,o=a[1]&&x(a);return{c(){n=w("section"),t=w("div"),o&&o.c(),r=z(),s=w("div"),f=new Z(!1),p=z(),i=w("div"),i.innerHTML=$,this.h()},l(e){n=_(e,"SECTION",{class:!0});var d=M(n);t=_(d,"DIV",{class:!0});var m=M(t);o&&o.l(m),r=q(m),s=_(m,"DIV",{});var l=M(s);f=X(l,!1),l.forEach(v),p=q(m),i=_(m,"DIV",{class:!0,"data-svelte-h":!0}),Y(i)!=="svelte-1cfdoow"&&(i.innerHTML=$),m.forEach(v),d.forEach(v),this.h()},h(){f.a=null,O(i,"class","father-div svelte-y6fg43"),O(t,"class","main"),O(n,"class","svelte-y6fg43")},m(e,d){A(e,n,d),g(n,t),o&&o.m(t,null),g(t,r),g(t,s),f.m(a[0],s),g(t,p),g(t,i),h||(u=W(i,"click",a[2]),h=!0)},p(e,[d]){e[1]?o?o.p(e,d):(o=x(e),o.c(),o.m(t,r)):o&&(o.d(1),o=null),d&1&&f.p(e[0])},i:V,o:V,d(e){e&&v(n),o&&o.d(),h=!1,u()}}}async function oe(){try{const a=await fetch("./data/prompts.json");if(!a.ok)throw new Error("Network response was not ok");return await a.json()}catch(a){return console.error("Failed to fetch prompts:",a),null}}function ne(a,n,t){let r,s,f,p,i=null,$="",h=new Set,u=null,o=!1,e=l=>{if(!o&&l){let c=Math.floor(Math.random()*l.length);return l[c].description}return l?l[Math.floor(Math.random()*l.length)].name:"[...]"},d=l=>l[Math.floor(Math.random()*l.length)];K(async()=>{t(3,i=await oe()),i&&(t(6,s=f(i)),t(0,$=p()))});function m(){o=!o,t(0,$=p())}return a.$$.update=()=>{a.$$.dirty&120&&(p=()=>{h.size===s.length&&(h.clear(),t(6,s=f(i)),console.log("All prompts have been used. Starting over!"));do t(4,u=s[Math.floor(Math.random()*s.length)]);while(h.has(u.id));return h.add(u.id),u.body})},t(1,r=""),t(6,s=null),t(5,f=(l=null)=>{if(!l)return;let{protagonists:c,incidents:k,settings:E,goals:H,obstacles:T,challenges:y,environments:b,tones:P,transformations:S,problems:I,genres:C,adventures:D,valuables:L,resolutions:N,flaws:B,powers:F,creatures:J,introductions:R}=l;return t(1,r=e(R)),[{id:1,body:`${e(c)} ${e(k)} in ${d(E)} to ${e(H)}, facing ${e(T)} and ${e(y)} along the way.`},{id:2,body:`${e(c)}  ${e(k)}, experiences ${e(y)}  and ${e(D)}, and returns to ${e(b)} transformed.`},{id:3,body:`${e(c)} embarks on a journey to find ${e(L)} and ${e(H)}.`},{id:4,body:`${e(c)} travels to ${e(P)} ${d(E)}, experiences ${e(S)}, and returns to ${e(b)} with ${e(I)}.`},{id:5,body:`${e(c)} travels to ${e(b)}, experiences ${e(S)}, and returns to ${e(b)} with ${e(L)}.`},{id:6,body:`${e(P)} and ${e(C)} story that involves ${e(I)},  ${e(k)}, ${e(y)}  and ${e(D)}, leading to ${e(N)}.`},{id:7,body:`${e(C)} story that depicts ${e(P)} ${e(y)}  of ${e(c)} due to ${e(B)}, ${e(F)}, and ${e(J)}, leading to ${e(N)}.`},{id:8,body:`${e(c)} undergoes ${e(I)}, ${e(S)} from ${d(E)} to ${e(H)}, after a period of ${e(y)}  and ${e(T)}.`}]}),[$,r,m,i,u,f,s]}class le extends Q{constructor(n){super(),U(this,n,ne,se,G,{})}}export{le as component};
