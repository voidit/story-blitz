import{s as z,n as L,o as A}from"../chunks/B2QSKqcC.js";import{S as F,i as J,d as g,b as R,c as y,m as B,n as E,e as w,f as H,o as G,h as K,p as Q,j as _,H as U,l as W}from"../chunks/DmuDJF2h.js";function X(a){let l,t,s,i,p,o,u='<div class="cat svelte-1lkoo5w"><div class="dog svelte-1lkoo5w"><div></div></div></div>',c,h;return{c(){l=_("section"),t=_("div"),s=_("div"),i=new U(!1),p=W(),o=_("div"),o.innerHTML=u,this.h()},l(r){l=w(r,"SECTION",{class:!0});var e=H(l);t=w(e,"DIV",{class:!0});var f=H(t);s=w(f,"DIV",{});var $=H(s);i=G($,!1),$.forEach(g),p=K(f),o=w(f,"DIV",{class:!0,"data-svelte-h":!0}),Q(o)!=="svelte-1mxaaar"&&(o.innerHTML=u),f.forEach(g),e.forEach(g),this.h()},h(){i.a=null,E(o,"class","father-div svelte-1lkoo5w"),E(t,"class","main"),E(l,"class","svelte-1lkoo5w")},m(r,e){R(r,l,e),y(l,t),y(t,s),i.m(a[0],s),y(t,p),y(t,o),c||(h=B(o,"click",a[1]),c=!0)},p(r,[e]){e&1&&i.p(r[0])},i:L,o:L,d(r){r&&g(l),c=!1,h()}}}async function Y(){try{const a=await fetch("./data/prompts.json");if(!a.ok)throw new Error("Network response was not ok");return await a.json()}catch(a){return console.error("Failed to fetch prompts:",a),null}}function Z(a,l,t){let s,i,p,o=null,u="",c=new Set,h=null,r=!1,e=n=>{if(!r&&n){let d=Math.floor(Math.random()*n.length);return n[d].description}return n?n[Math.floor(Math.random()*n.length)].name:"[...]"},f=n=>n[Math.floor(Math.random()*n.length)];A(async()=>{t(2,o=await Y()),o&&(t(5,s=i(o)),t(0,u=p()))});function $(){r=!r,t(0,u=p())}return a.$$.update=()=>{a.$$.dirty&60&&(p=()=>{c.size===s.length&&(c.clear(),t(5,s=i(o)),console.log("All prompts have been used. Starting over!"));do t(3,h=s[Math.floor(Math.random()*s.length)]);while(c.has(h.id));return c.add(h.id),h.body})},t(5,s=null),t(4,i=(n=null)=>{if(!n)return;let{protagonists:d,incidents:M,settings:b,goals:k,obstacles:I,challenges:m,environments:v,tones:x,transformations:P,problems:S,genres:O,adventures:T,valuables:C,resolutions:D,flaws:N,powers:V,creatures:q}=n;return[{id:1,body:`${e(d)} ${e(M)} in ${f(b)} to ${e(k)}, facing ${e(I)} and ${e(m)} along the way.`},{id:2,body:`${e(d)}  ${e(M)}, experiences ${e(m)}  and ${e(T)}, and returns to ${e(v)} transformed.`},{id:3,body:`${e(d)} embarks on a journey to find ${e(C)} and ${e(k)}.`},{id:4,body:`${e(d)} travels to ${e(x)} ${f(b)}, experiences ${e(P)}, and returns to ${e(v)} with ${e(S)}.`},{id:5,body:`${e(d)} travels to ${e(v)}, experiences ${e(P)}, and returns to ${e(v)} with ${e(C)}.`},{id:6,body:`${e(x)} and ${e(O)} story that involves ${e(S)},  ${e(M)}, ${e(m)}  and ${e(T)}, leading to ${e(D)}.`},{id:7,body:`${e(O)} story that depicts ${e(x)} ${e(m)}  of ${e(d)} due to ${e(N)}, ${e(V)}, and ${e(q)}, leading to ${e(D)}.`},{id:8,body:`${e(d)} undergoes ${e(S)}, ${e(P)} from ${f(b)} to ${e(k)}, after a period of ${e(m)}  and ${e(I)}.`}]}),[u,$,o,h,i,s]}class te extends F{constructor(l){super(),J(this,l,Z,X,z,{})}}export{te as component};
