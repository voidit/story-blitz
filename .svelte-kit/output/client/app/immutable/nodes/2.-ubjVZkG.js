import{s as ie,n as U,o as se}from"../chunks/B2QSKqcC.js";import{S as oe,i as he,d as u,b,c as d,m,e as p,f as k,h as y,j as g,l as I,n as S,o as O,p as q,q as x,s as V,r as T,u as A,g as N,k as P,v as re,H as ae}from"../chunks/C_fMD25V.js";function M(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}function B(o,i,n){const l=o.slice();return l[18]=i[n],l}function H(o,i,n){const l=o.slice();return l[21]=i[n],l}function C(o,i,n){const l=o.slice();return l[24]=i[n],l}function z(o,i,n){const l=o.slice();return l[27]=i[n],l}function F(o,i,n){const l=o.slice();return l[18]=i[n],l[31]=n,l}function J(o){let i,n=M(o[2]),l=[];for(let e=0;e<n.length;e+=1)l[e]=K(F(o,n,e));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();i=O()},l(e){for(let s=0;s<l.length;s+=1)l[s].l(e);i=O()},m(e,s){for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,s);b(e,i,s)},p(e,s){if(s[0]&20){n=M(e[2]);let t;for(t=0;t<n.length;t+=1){const h=F(e,n,t);l[t]?l[t].p(h,s):(l[t]=K(h),l[t].c(),l[t].m(i.parentNode,i))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(e){e&&u(i),S(l,e)}}}function K(o){let i,n,l,e,s=o[18].term+"",t,h,c,a,f;return c=x(o[7][1]),{c(){i=g("div"),n=g("input"),l=I(),e=g("label"),t=P(s),h=I(),this.h()},l(r){i=p(r,"DIV",{class:!0});var _=k(i);n=p(_,"INPUT",{type:!0,name:!0}),l=y(_),e=p(_,"LABEL",{for:!0});var w=k(e);t=N(w,s),w.forEach(u),h=y(_),_.forEach(u),this.h()},h(){m(n,"type","checkbox"),n.__value=o[31],A(n,n.__value),m(n,"name","concept-"+o[31]),m(e,"for","concept-"+o[31]),m(i,"class","col svelte-r58jug"),c.p(n)},m(r,_){b(r,i,_),d(i,n),n.checked=~(o[4]||[]).indexOf(n.__value),d(i,l),d(i,e),d(e,t),d(i,h),a||(f=T(n,"change",o[6]),a=!0)},p(r,_){_[0]&20&&(n.checked=~(r[4]||[]).indexOf(n.__value)),_[0]&4&&s!==(s=r[18].term+"")&&V(t,s)},d(r){r&&u(i),c.r(),a=!1,f()}}}function R(o){let i,n=M(o[1]),l=[];for(let e=0;e<n.length;e+=1)l[e]=G(z(o,n,e));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();i=O()},l(e){for(let s=0;s<l.length;s+=1)l[s].l(e);i=O()},m(e,s){for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,s);b(e,i,s)},p(e,s){if(s[0]&3){n=M(e[1]);let t;for(t=0;t<n.length;t+=1){const h=z(e,n,t);l[t]?l[t].p(h,s):(l[t]=G(h),l[t].c(),l[t].m(i.parentNode,i))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(e){e&&u(i),S(l,e)}}}function G(o){let i,n,l,e=!1,s,t,h,c=o[27].theme+"",a,f,r,_,w,L;return _=x(o[7][0]),{c(){i=g("div"),n=g("input"),t=I(),h=g("label"),a=P(c),r=I(),this.h()},l(v){i=p(v,"DIV",{class:!0});var E=k(i);n=p(E,"INPUT",{type:!0,name:!0}),t=y(E),h=p(E,"LABEL",{for:!0});var D=k(h);a=N(D,c),D.forEach(u),r=y(E),E.forEach(u),this.h()},h(){m(n,"type","checkbox"),n.__value=l=o[27].id,A(n,n.__value),m(n,"name",s="theme-"+o[27].id),m(h,"for",f="theme-"+o[27].id),m(i,"class","col svelte-r58jug"),_.p(n)},m(v,E){b(v,i,E),d(i,n),n.checked=~(o[0]||[]).indexOf(n.__value),d(i,t),d(i,h),d(h,a),d(i,r),w||(L=T(n,"change",o[8]),w=!0)},p(v,E){E[0]&2&&l!==(l=v[27].id)&&(n.__value=l,A(n,n.__value),e=!0),E[0]&2&&s!==(s="theme-"+v[27].id)&&m(n,"name",s),(e||E[0]&3)&&(n.checked=~(v[0]||[]).indexOf(n.__value)),E[0]&2&&c!==(c=v[27].theme+"")&&V(a,c),E[0]&2&&f!==(f="theme-"+v[27].id)&&m(h,"for",f)},d(v){v&&u(i),_.r(),w=!1,L()}}}function fe(o){let i,n,l,e,s,t,h;return{c(){i=g("div"),n=new ae(!1),l=I(),e=g("label"),s=g("input"),this.h()},l(c){i=p(c,"DIV",{});var a=k(i);n=re(a,!1),a.forEach(u),l=y(c),e=p(c,"LABEL",{});var f=k(e);s=p(f,"INPUT",{class:!0,type:!0,name:!0}),f.forEach(u),this.h()},h(){n.a=null,m(s,"class","bubble"),m(s,"type","checkbox"),m(s,"name","dummy"),s.value="on"},m(c,a){b(c,i,a),n.m(o[3],i),b(c,l,a),b(c,e,a),d(e,s),t||(h=T(s,"click",o[5]),t=!0)},p(c,a){a[0]&8&&n.p(c[3])},d(c){c&&(u(i),u(l),u(e)),t=!1,h()}}}function ce(o){let i,n,l=o[0].length>0&&Q(o),e=o[4].length>0&&X(o);return{c(){l&&l.c(),i=I(),e&&e.c(),n=O()},l(s){l&&l.l(s),i=y(s),e&&e.l(s),n=O()},m(s,t){l&&l.m(s,t),b(s,i,t),e&&e.m(s,t),b(s,n,t)},p(s,t){s[0].length>0?l?l.p(s,t):(l=Q(s),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),s[4].length>0?e?e.p(s,t):(e=X(s),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(s){s&&(u(i),u(n)),l&&l.d(s),e&&e.d(s)}}}function Q(o){let i,n=M(o[0]),l=[];for(let e=0;e<n.length;e+=1)l[e]=W(C(o,n,e));return{c(){i=g("div");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){i=p(e,"DIV",{class:!0});var s=k(i);for(let t=0;t<l.length;t+=1)l[t].l(s);s.forEach(u),this.h()},h(){m(i,"class","theme-lines svelte-r58jug")},m(e,s){b(e,i,s);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(i,null)},p(e,s){if(s[0]&3){n=M(e[0]);let t;for(t=0;t<n.length;t+=1){const h=C(e,n,t);l[t]?l[t].p(h,s):(l[t]=W(h),l[t].c(),l[t].m(i,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(e){e&&u(i),S(l,e)}}}function W(o){let i,n=o[1][o[24]-1].body[Math.floor(Math.random()*o[1][o[24]-1].body.length)]+"",l;return{c(){i=g("p"),l=P(n),this.h()},l(e){i=p(e,"P",{class:!0});var s=k(i);l=N(s,n),s.forEach(u),this.h()},h(){m(i,"class","svelte-r58jug")},m(e,s){b(e,i,s),d(i,l)},p(e,s){s[0]&3&&n!==(n=e[1][e[24]-1].body[Math.floor(Math.random()*e[1][e[24]-1].body.length)]+"")&&V(l,n)},d(e){e&&u(i)}}}function X(o){let i,n,l=M(o[4]),e=[];for(let s=0;s<l.length;s+=1)e[s]=$(B(o,l,s));return{c(){i=g("div"),n=g("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){i=p(s,"DIV",{class:!0});var t=k(i);n=p(t,"UL",{class:!0});var h=k(n);for(let c=0;c<e.length;c+=1)e[c].l(h);h.forEach(u),t.forEach(u),this.h()},h(){m(n,"class","svelte-r58jug"),m(i,"class","concept-lines svelte-r58jug")},m(s,t){b(s,i,t),d(i,n);for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(n,null)},p(s,t){if(t[0]&20){l=M(s[4]);let h;for(h=0;h<l.length;h+=1){const c=B(s,l,h);e[h]?e[h].p(c,t):(e[h]=$(c),e[h].c(),e[h].m(n,null))}for(;h<e.length;h+=1)e[h].d(1);e.length=l.length}},d(s){s&&u(i),S(e,s)}}}function Y(o){let i,n=M(o[2][o[18]].keywords),l=[];for(let e=0;e<n.length;e+=1)l[e]=Z(H(o,n,e));return{c(){i=g("ul");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){i=p(e,"UL",{class:!0});var s=k(i);for(let t=0;t<l.length;t+=1)l[t].l(s);s.forEach(u),this.h()},h(){m(i,"class","svelte-r58jug")},m(e,s){b(e,i,s);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(i,null)},p(e,s){if(s[0]&20){n=M(e[2][e[18]].keywords);let t;for(t=0;t<n.length;t+=1){const h=H(e,n,t);l[t]?l[t].p(h,s):(l[t]=Z(h),l[t].c(),l[t].m(i,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(e){e&&u(i),S(l,e)}}}function Z(o){let i,n=o[21]+"",l;return{c(){i=g("li"),l=P(n),this.h()},l(e){i=p(e,"LI",{class:!0});var s=k(i);l=N(s,n),s.forEach(u),this.h()},h(){m(i,"class","svelte-r58jug")},m(e,s){b(e,i,s),d(i,l)},p(e,s){s[0]&20&&n!==(n=e[21]+"")&&V(l,n)},d(e){e&&u(i)}}}function $(o){let i,n=o[2][o[18]].term+"",l,e,s=o[2][o[18]].definition+"",t,h,c,a=o[2][o[18]].keywords&&Y(o);return{c(){i=g("li"),l=P(n),e=P(": "),t=P(s),h=I(),a&&a.c(),c=I(),this.h()},l(f){i=p(f,"LI",{class:!0});var r=k(i);l=N(r,n),e=N(r,": "),t=N(r,s),h=y(r),a&&a.l(r),c=y(r),r.forEach(u),this.h()},h(){m(i,"class","svelte-r58jug")},m(f,r){b(f,i,r),d(i,l),d(i,e),d(i,t),d(i,h),a&&a.m(i,null),d(i,c)},p(f,r){r[0]&20&&n!==(n=f[2][f[18]].term+"")&&V(l,n),r[0]&20&&s!==(s=f[2][f[18]].definition+"")&&V(t,s),f[2][f[18]].keywords?a?a.p(f,r):(a=Y(f),a.c(),a.m(i,c)):a&&(a.d(1),a=null)},d(f){f&&u(i),a&&a.d()}}}function ue(o){let i,n,l,e,s,t=o[2].length>0&&J(o),h=o[1].length>0&&R(o);function c(r,_){return r[0].length>0||r[4].length>0?ce:fe}let a=c(o),f=a(o);return{c(){i=g("section"),n=g("div"),t&&t.c(),l=I(),h&&h.c(),e=I(),s=g("div"),f.c(),this.h()},l(r){i=p(r,"SECTION",{});var _=k(i);n=p(_,"DIV",{class:!0});var w=k(n);t&&t.l(w),l=y(w),h&&h.l(w),w.forEach(u),e=y(_),s=p(_,"DIV",{class:!0});var L=k(s);f.l(L),L.forEach(u),_.forEach(u),this.h()},h(){m(n,"class","checkboxes svelte-r58jug"),m(s,"class","main")},m(r,_){b(r,i,_),d(i,n),t&&t.m(n,null),d(n,l),h&&h.m(n,null),d(i,e),d(i,s),f.m(s,null)},p(r,_){r[2].length>0?t?t.p(r,_):(t=J(r),t.c(),t.m(n,l)):t&&(t.d(1),t=null),r[1].length>0?h?h.p(r,_):(h=R(r),h.c(),h.m(n,null)):h&&(h.d(1),h=null),a===(a=c(r))&&f?f.p(r,_):(f.d(1),f=a(r),f&&(f.c(),f.m(s,null)))},i:U,o:U,d(r){r&&u(i),t&&t.d(),h&&h.d(),f.d()}}}async function _e(){try{const o=await fetch("./data/prompts.json");if(!o.ok)throw new Error("Network response was not ok");return await o.json()}catch(o){return console.error("Failed to fetch prompts:",o),null}}function de(o,i,n){let l,e,s,t=null,h=[],c=[],a=[],f=[],r=[],_=[],w=[],L="",v=new Set;se(async()=>{if(t=await _e(),!!t){c=t.settings,a=t.introductions,f=t.conclusions,n(1,_=t.themes),r=t.subjects,n(2,w=t.concepts.map((j,te)=>{let ne=j.keywords||{};return{...j,id:te,keywords:Object.entries(ne),questions:j.questions||[]}}));for(let j=0;j<c.length;j++)h.push({id:j,body:`${c[j]} ${r[Math.floor(Math.random()*r.length)]} ${a[Math.floor(Math.random()*a.length)].body} ${f[Math.floor(Math.random()*f.length)]} ${a[j].subject}`});n(3,L=l())}});function E(){n(3,L=l())}const D=[[],[]];function ee(){s=q(D[1],this.__value,this.checked),n(4,s)}function le(){e=q(D[0],this.__value,this.checked),n(0,e)}return o.$$.update=()=>{o.$$.dirty[0]&1},l=()=>{v.size===h.length&&(v.clear(),console.log("All prompts have been used. Starting over!"));let j;do j=h[Math.floor(Math.random()*h.length)];while(v.has(j.id));return v.add(j.id),j.body},n(0,e=[]),n(4,s=[]),[e,_,w,L,s,E,ee,D,le]}class ge extends oe{constructor(i){super(),he(this,i,de,ue,ie,{},null,[-1,-1])}}export{ge as component};
